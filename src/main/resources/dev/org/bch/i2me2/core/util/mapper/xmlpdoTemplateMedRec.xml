<?xml version="1.0" encoding="UTF-8"?>
<repository:patient_data
    xmlns:repository="http://i2b2.mgh.harvard.edu/repository_cell"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://i2b2.mgh.harvard.edu/repository_cell/patient_data.xsd">
    <pid_set>
        <pid>
            <patient_id source="F__PatientSegments.patientIdSourceSystemName__F">F__PatientSegments.patientId__F</patient_id>
        </pid>
    </pid_set>
    <eid_set>
        <eid>
            <event_id patient_id="F__PatientSegments.patientId__F" patient_id_source="F__PatientSegments.patientIdSourceSystemName__F" source="F__PatientSegments.eventIdSourceSystemName__F">F__PatientSegments.eventId__F</event_id>
        </eid>
    </eid_set>
    <event_set>
        <event>
            <event_id source="F__PatientSegments.eventIdSourceSystemName__F">F__PatientSegments.eventId__F</event_id>
            <patient_id source="F__PatientSegments.patientIdSourceSystemName__F">F__PatientSegments.patientId__F</patient_id>
            <start_date>F__PatientSegments.msgDateTime__F</start_date>
        </event>
    </event_set>
    <patient_set>
        <patient>
            <patient_id source="F__PatientSegments.patientIdSourceSystemName__F">F__PatientSegments.patientId__F</patient_id>
            <param column="sex_cd">F__PatientSegments.patientGender__F</param>
        </patient>
    </patient_set>
    <observation_set>
        <observation>
            <event_id source="F__PatientSegments.eventIdSourceSystemName__F">F__PatientSegments.eventId__F</event_id>
            <patient_id source="F__PatientSegments.patientIdSourceSystemName__F">F__PatientSegments.patientId__F</patient_id>
            <start_date>F__PatientSegments.msgDateTime__F</start_date>
            <observer_cd>@</observer_cd>
            <concept_cd>PBM_transaction</concept_cd>
            <tval_char>F__recsReturned__F</tval_char>
            <modifier_cd>recsReturnedStatement</modifier_cd>
            <valuetype_cd>T</valuetype_cd>
            <instance_num>1</instance_num>
        </observation>
        <observation>
            <event_id source="F__PatientSegments.eventIdSourceSystemName__F">F__PatientSegments.eventId__F</event_id>
            <patient_id source="F__PatientSegments.patientIdSourceSystemName__F">F__PatientSegments.patientId__F</patient_id>
            <start_date>F__PatientSegments.msgDateTime__F</start_date>
            <observer_cd>@</observer_cd>
            <concept_cd>PBM_transaction</concept_cd>
            <tval_char>F__statusMsg__F</tval_char>
            <modifier_cd>statusMsgStatement</modifier_cd>
            <valuetype_cd>T</valuetype_cd>
            <instance_num>1</instance_num>
        </observation>
        <observation>
            <event_id source="F__PatientSegments.eventIdSourceSystemName__F">F__PatientSegments.eventId__F</event_id>
            <patient_id source="F__PatientSegments.patientIdSourceSystemName__F">F__PatientSegments.patientId__F</patient_id>
            <start_date>F__medicationStatement.whenGiven.start__F</start_date>
            <end_date>F__medicationStatement.whenGiven.end__F</end_date>
            <observer_cd>@</observer_cd>
            <concept_cd>NDC:F__medicationStatement.medication.code__F</concept_cd>
            <tval_char>F__medicationStatement.medication.name__F</tval_char>
            <modifier_cd>medicationNameStatement</modifier_cd>
            <valuetype_cd>T</valuetype_cd>
            <instance_num>1</instance_num>
        </observation>
        <observation>
            <event_id source="F__PatientSegments.eventIdSourceSystemName__F">F__PatientSegments.eventId__F</event_id>
            <patient_id source="F__PatientSegments.patientIdSourceSystemName__F">F__PatientSegments.patientId__F</patient_id>
            <start_date>F__medicationStatement.whenGiven.start__F</start_date>
            <end_date>F__medicationStatement.whenGiven.end__F</end_date>
            <observer_cd>@</observer_cd>
            <concept_cd>NDC:F__medicationStatement.medication.code__F</concept_cd>
            <nval_num>F__medicationStatement.dosage.quantity.value__F</nval_num>
            <modifier_cd>quantityValueStatement</modifier_cd>
            <valuetype_cd>N</valuetype_cd>
            <instance_num>1</instance_num>
        </observation>
        <observation>
            <event_id source="F__PatientSegments.eventIdSourceSystemName__F">F__PatientSegments.eventId__F</event_id>
            <patient_id source="F__PatientSegments.patientIdSourceSystemName__F">F__PatientSegments.patientId__F</patient_id>
            <start_date>F__medicationStatement.whenGiven.start__F</start_date>
            <end_date>F__medicationStatement.whenGiven.end__F</end_date>
            <observer_cd>@</observer_cd>
            <concept_cd>NDC:F__medicationStatement.medication.code__F</concept_cd>
            <tval_char>F__medicationStatement.dosage.quantity.units__F</tval_char>
            <modifier_cd>quantityCodeStatement</modifier_cd>
            <valuetype_cd>T</valuetype_cd>
            <instance_num>1</instance_num>
        </observation>
        <observation>
            <event_id source="F__PatientSegments.eventIdSourceSystemName__F">F__PatientSegments.eventId__F</event_id>
            <patient_id source="F__PatientSegments.patientIdSourceSystemName__F">F__PatientSegments.patientId__F</patient_id>
            <start_date>F__medicationStatement.whenGiven.start__F</start_date>
            <end_date>F__medicationStatement.whenGiven.end__F</end_date>
            <observer_cd>@</observer_cd>
            <concept_cd>NDC:F__medicationStatement.medication.code__F</concept_cd>
            <nval_num>F__medicationStatement.dosage.timing.repeat.duration__F</nval_num>
            <units_cd>F__medicationStatement.dosage.timing.repeat.units__F</units_cd>
            <modifier_cd>expectedDurationStatement</modifier_cd>
            <valuetype_cd>N</valuetype_cd>
            <instance_num>1</instance_num>
        </observation>
    </observation_set>

    <!--
    Other we want to capture for post process and formatting

    -->
</repository:patient_data>
